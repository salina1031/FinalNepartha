/* ============================================================
   NepArtha — style.css
   ============================================================ */

/* ── Variables ─────────────────────────────────────────── */
:root {
    --blue:        #0A3D78;
    --blue-light:  #1a5aa8;
    --red:         #C41E3A;
    --red-light:   #e03353;
    --bg:          #f0f4f8;
    --white:       #ffffff;
    --input-blue:  #d0e3f5;
    --input-pink:  #f5dde0;
    --text-dark:   #1a1a2e;
    --text-muted:  #6b7280;
    --border:      #e2e8f0;
    --shadow-sm:   0 2px 8px rgba(0,0,0,.08);
    --shadow-md:   0 4px 20px rgba(0,0,0,.12);
    --shadow-lg:   0 10px 40px rgba(0,0,0,.18);
    --radius-sm:   8px;
    --radius-md:   14px;
    --radius-lg:   24px;
    --radius-pill: 999px;
    --font:        'Segoe UI', system-ui, sans-serif;
}

/* ── Reset ─────────────────────────────────────────────── */
*, *::before, *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* CRITICAL: never lock height — allow natural scroll */
html, body {
    font-family: var(--font);
    background: var(--bg);
    color: var(--text-dark);
    min-height: 100%;
    /* NO height:100%, NO overflow:hidden */
}

/* ============================================================
   AUTH PAGES  (login / signup)
   ============================================================ */

.container-loginSignup {
    min-height: 100vh;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    /* top padding = space for fixed logo (52px + 14px top + gap) */
    padding: 5rem 1rem 2rem;
    background:
        radial-gradient(ellipse at 80% 10%, rgba(101,101,236,.55) 0%, transparent 55%),
        radial-gradient(ellipse at 5%  90%, rgba(196,30,58,.50)   0%, transparent 50%),
        linear-gradient(160deg, #1a1a3e 0%, #2d2d60 50%, #1a1a2e 100%);
}

/* Logo — fixed top-LEFT on auth pages */
.logo img {
    position: fixed;
    top: 14px;
    left: 16px;
    width: 52px;
    height: 52px;
    object-fit: cover;
    border-radius: 50%;
    border: 2.5px solid rgba(255,255,255,.75);
    box-shadow: 0 3px 12px rgba(0,0,0,.35);
    background: #fff;
    z-index: 100;
}

/* Card — centered by flex parent, no position:absolute */
.card {
    width: 100%;
    max-width: 380px;
    padding: 2rem 1.5rem 1.75rem;
    background: rgba(255,255,255,.97);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    text-align: center;
}

.card h1 {
    color: var(--red);
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1.25rem;
}

.loginform {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

/* Inputs */
input {
    width: 100%;
    padding: 0.72rem 1rem;
    border: none;
    border-radius: var(--radius-pill);
    font-size: 0.95rem;
    font-family: var(--font);
    outline: none;
    color: var(--text-dark);
    margin-bottom: 0;
    transition: box-shadow .2s;
}
input:focus { box-shadow: 0 0 0 3px rgba(10,61,120,.2); }

.input-blue { background: var(--input-blue); }
.input-pink { background: var(--input-pink); }

/* Remember me */
.remember {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    padding-left: 0.4rem;
    font-size: 0.85rem;
    color: var(--text-muted);
    margin: 0.2rem 0 0.4rem;
    text-align: left;
}
.remember input { width: auto; margin: 0; accent-color: var(--blue); }
.remember label { cursor: pointer; }

/* Auth submit button */
button {
    width: 100%;
    padding: 0.78rem 1rem;
    border: none;
    border-radius: var(--radius-pill);
    background: var(--red);
    color: #fff;
    font-size: 1rem;
    font-weight: 700;
    font-family: var(--font);
    cursor: pointer;
    transition: background .2s, transform .1s;
    box-shadow: 0 4px 14px rgba(196,30,58,.3);
    margin-top: 0.2rem;
}
button:hover  { background: var(--red-light); }
button:active { transform: scale(.98); }

/* Links */
.link { margin-top: 0.9rem; font-size: 0.83rem; color: var(--text-muted); }
.link a { color: var(--blue); text-decoration: none; font-weight: 600; }
.link a:hover { text-decoration: underline; }

/* Auth messages */
.msg-error, .error-message {
    display: none;
    background: #fef2f2;
    color: #c0392b;
    border-left: 4px solid var(--red);
    padding: 0.65rem 0.9rem;
    border-radius: var(--radius-sm);
    margin-bottom: 0.65rem;
    font-size: 0.85rem;
    text-align: left;
}
.msg-success, .success-message {
    display: none;
    background: #f0fdf4;
    color: #166534;
    border-left: 4px solid #22c55e;
    padding: 0.65rem 0.9rem;
    border-radius: var(--radius-sm);
    margin-bottom: 0.65rem;
    font-size: 0.85rem;
    text-align: left;
}
.field-error {
    display: none;
    color: var(--red);
    font-size: 0.76rem;
    margin: -0.2rem 0 0.25rem 0.4rem;
    text-align: left;
}

/* ============================================================
   NAVBAR  — mobile-first
   ─────────────────────────────────────────────────────────
   Layout on mobile (≤767px):
   Row 1: [Logo text]  ────────  [नेपाली] [Logout]
   Row 2: Welcome, User  (centered, full width)
   ============================================================ */

.navbar {
    background: var(--white);
    box-shadow: var(--shadow-sm);
    position: sticky;
    top: 0;
    z-index: 50;
}

.nav-container {
    max-width: 1280px;
    margin: 0 auto;
    padding: 0.55rem 0.9rem;
    display: flex;
    flex-wrap: wrap;          /* allows row 2 to wrap */
    align-items: center;
    justify-content: space-between;
    gap: 0;
}

/* Logo block — row 1, left */
.navbar .logo {
    flex: 0 0 auto;
}

.navbar .logo h1 {
    color: var(--blue);
    font-size: 1.1rem;        /* smaller on mobile so buttons fit */
    font-weight: 800;
    line-height: 1.2;
    letter-spacing: -.2px;
}

.navbar .logo p {
    color: var(--text-muted);
    font-size: 0.62rem;
    margin-top: 1px;
}

/* Override fixed logo inside navbar */
.navbar .logo img {
    position: static !important;
    transform: none !important;
    width: 34px;
    height: 34px;
    border-radius: 50%;
    border: 2px solid var(--border);
    box-shadow: none;
}

/* Buttons row — row 1, right */
.nav-actions {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    gap: 0.35rem;
}

/* ALL nav buttons always small */
.nav-actions button,
.btn-small {
    width: auto !important;
    padding: 0.28rem 0.65rem !important;
    font-size: 0.72rem !important;
    border-radius: 5px !important;
    font-weight: 600 !important;
    margin: 0 !important;
    box-shadow: none !important;
    white-space: nowrap !important;
}

/* Welcome — row 2, full width, centered */
.user-welcome {
    flex: 0 0 100%;
    order: 9;
    text-align: center;
    font-size: 1rem;          /* bigger on mobile */
    font-weight: 600;
    color: #1a1a2e;
    padding: 0.3rem 0 0.2rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* ============================================================
   MENU / TAB BAR
   ============================================================ */
.menu {
    background: var(--white);
    border-bottom: 1px solid var(--border);
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 0.15rem;
    padding: 0.4rem 0.5rem;
}

.menu-item {
    padding: 0.4rem 0.6rem;
    text-decoration: none;
    color: var(--text-muted);
    font-size: 0.78rem;
    font-weight: 500;
    border-radius: var(--radius-sm);
    transition: background .2s, color .2s;
    white-space: nowrap;
}

.menu-item:hover  { background: #f1f5f9; color: var(--blue); }
.menu-item.active { background: var(--blue); color: #fff; }

/* ============================================================
   PAGE WRAPPER  — never set height, let content grow
   ============================================================ */
.app-container,
.container {
    max-width: 1280px;
    margin: 0 auto;
    padding: 1rem 0.75rem 3rem;
    width: 100%;
}

.page-title {
    color: var(--blue);
    font-size: 1.3rem;
    font-weight: 800;
    letter-spacing: -.3px;
    margin-bottom: 1.25rem;
    text-align: center;
}

/* ============================================================
   APP BUTTONS
   ============================================================ */
.btn-primary, .btn-secondary, .btn-danger, .btn-success {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: auto;
    padding: 0.55rem 1.1rem;
    border: none;
    border-radius: var(--radius-sm);
    font-size: 0.88rem;
    font-weight: 600;
    font-family: var(--font);
    cursor: pointer;
    transition: background .2s, transform .1s;
    margin-bottom: 0;
    box-shadow: none;
}
.btn-primary   { background: var(--blue);  color: #fff; }
.btn-primary:hover   { background: var(--blue-light); }
.btn-secondary { background: #f1f5f9; color: #374151; }
.btn-secondary:hover { background: #e2e8f0; }
.btn-danger    { background: var(--red);   color: #fff; }
.btn-danger:hover    { background: var(--red-light); }
.btn-success   { background: #16a34a; color: #fff; }
.btn-success:hover   { background: #15803d; }

/* ============================================================
   ALERTS
   ============================================================ */
.alert {
    padding: 0.8rem 1rem;
    border-radius: var(--radius-sm);
    font-size: 0.85rem;
    margin-bottom: 1rem;
    border-left: 4px solid;
}
.alert-success { background:#f0fdf4; color:#166534; border-color:#22c55e; }
.alert-danger  { background:#fef2f2; color:#991b1b; border-color:var(--red); }
.alert-warning { background:#fffbeb; color:#92400e; border-color:#f59e0b; }
.alert-info    { background:#eff6ff; color:#1e40af; border-color:#3b82f6; }

/* ============================================================
   DASHBOARD — SUMMARY CARDS
   ============================================================ */
.summary-cards {
    display: grid;
    grid-template-columns: 1fr;
    gap: 0.9rem;
    margin-bottom: 1.25rem;
}

.cards {
    background: var(--white);
    border-radius: var(--radius-lg);
    padding: 1rem 1.1rem;
    box-shadow: var(--shadow-md);
    display: flex;
    align-items: center;
    gap: 0.85rem;
    width: 100%;
    transition: transform .2s, box-shadow .2s;
}
.cards:hover { transform: translateY(-2px); box-shadow: var(--shadow-lg); }

.card-icon {
    font-size: 1.6rem;
    flex-shrink: 0;
    width: 46px;
    height: 46px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: var(--bg);
}

.card-content { flex: 1; min-width: 0; }

.card-label {
    color: var(--text-muted);
    font-size: 0.7rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: .5px;
    margin-bottom: 0.25rem;
}

.card-value {
    font-size: 1.2rem;
    font-weight: 800;
    line-height: 1;
    letter-spacing: -.4px;
    /* prevent overflow on tiny screens */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.card-red   .card-value { color: var(--red);  }
.card-blue  .card-value { color: var(--blue); }
.card-green .card-value { color: #16a34a;     }

.budget-header {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.btn-edit-budget {
    width: fit-content !important;
    padding: 0.3rem 0.75rem !important;
    font-size: 0.75rem !important;
    border-radius: var(--radius-sm) !important;
    background: rgba(10,61,120,.08) !important;
    color: var(--blue) !important;
    font-weight: 600 !important;
    box-shadow: none !important;
    border: 1.5px solid rgba(10,61,120,.2) !important;
    margin: 0 !important;
    white-space: nowrap;
    align-self: flex-start;
    transition: background .2s !important;
}

.btn-edit-budget:hover { background: rgba(10,61,120,.15) !important; }

/* ============================================================
   DASHBOARD — CHARTS
   FIX: charts must not overflow their container on any screen
   ============================================================ */
.charts-row {
    display: grid;
    grid-template-columns: 1fr;
    gap: 0.9rem;
    margin-bottom: 1.25rem;
    /* ensure children can't overflow */
    min-width: 0;
}

.chart-container {
    background: var(--white);
    border-radius: var(--radius-lg);
    padding: 1.1rem;
    box-shadow: var(--shadow-md);
    /* CRITICAL: constrain canvas width */
    min-width: 0;
    overflow: hidden;
    width: 100%;
}

/* Chart.js canvas — always fill container, never overflow */
.chart-container canvas {
    max-width: 100% !important;
    width: 100% !important;
    height: auto !important;
}

.section-title {
    color: var(--text-dark);
    font-size: 0.92rem;
    font-weight: 700;
    margin-bottom: 0.85rem;
    letter-spacing: -.1px;
}

/* Recent transactions */
.transactions-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-top: 0.4rem;
}

.transaction-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.6rem 0.7rem;
    background: #f8fafc;
    border-radius: var(--radius-sm);
    gap: 0.6rem;
    transition: background .15s;
    min-width: 0;
}
.transaction-item:hover { background: #f1f5f9; }

.transaction-info { display: flex; align-items: center; gap: 0.6rem; min-width: 0; flex: 1; }

.transaction-icon {
    font-size: 1.1rem;
    flex-shrink: 0;
    width: 32px; height: 32px;
    display: flex; align-items: center; justify-content: center;
    background: var(--white);
    border-radius: 50%;
    box-shadow: var(--shadow-sm);
}

.transaction-details { min-width: 0; flex: 1; }

.transaction-details h4 {
    font-size: 0.83rem;
    font-weight: 600;
    color: var(--text-dark);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.transaction-details p { font-size: 0.72rem; color: var(--text-muted); margin-top: 1px; }

.transaction-amount {
    font-size: 0.88rem;
    font-weight: 700;
    color: var(--red);
    flex-shrink: 0;
    white-space: nowrap;
}

/* ============================================================
   EXPENSES PAGE
   ============================================================ */

/* Filter */
.filter-section {
    background: var(--white);
    border-radius: var(--radius-md);
    padding: 0.85rem 1rem;
    box-shadow: var(--shadow-sm);
    margin-bottom: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.65rem;
}

.filter-group { display: flex; flex-direction: column; gap: 0.25rem; }

.filter-group label {
    font-size: 0.72rem;
    font-weight: 700;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: .4px;
}

.filter-group select,
.filter-group input[type="date"] {
    padding: 0.5rem 0.7rem;
    border: 1.5px solid var(--border);
    border-radius: var(--radius-sm);
    font-size: 0.88rem;
    font-family: var(--font);
    color: var(--text-dark);
    background: #fff;
    outline: none;
    margin-bottom: 0;
    width: 100%;
}
.filter-group select:focus { border-color: var(--blue); }

/* Form card */
.form-card {
    background: var(--white);
    border-radius: var(--radius-lg);
    padding: 1.25rem;
    box-shadow: var(--shadow-md);
}

.form-container { max-width: 640px; margin: 0 auto; }

.form-group { margin-bottom: 1rem; }

.form-group label {
    display: block;
    font-size: 0.83rem;
    font-weight: 600;
    color: #374151;
    margin-bottom: 0.35rem;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 0.6rem 0.85rem;
    border: 1.5px solid var(--border);
    border-radius: var(--radius-sm);
    font-size: 0.92rem;
    font-family: var(--font);
    color: var(--text-dark);
    background: #fff;
    outline: none;
    transition: border .2s, box-shadow .2s;
    margin-bottom: 0;
}
.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    border-color: var(--blue);
    box-shadow: 0 0 0 3px rgba(10,61,120,.1);
}
.form-group textarea { min-height: 80px; resize: vertical; }

.form-actions {
    display: flex;
    flex-direction: column;
    gap: 0.65rem;
    margin-top: 1.25rem;
}

.form-actions .btn-primary,
.form-actions .btn-secondary {
    width: 100%;
    padding: 0.7rem 1rem;
    font-size: 0.92rem;
    justify-content: center;
    border-radius: var(--radius-sm);
}

/* Table */
.table-container {
    background: var(--white);
    border-radius: var(--radius-lg);
    padding: 1rem;
    box-shadow: var(--shadow-md);
    overflow-x: auto;           /* horizontal scroll for table on mobile */
    margin-top: 1rem;
    -webkit-overflow-scrolling: touch;
}

.expenses-table {
    width: 100%;
    border-collapse: collapse;
    min-width: 520px;
}

.expenses-table th {
    background: var(--blue);
    color: #fff;
    padding: 0.65rem 0.8rem;
    text-align: left;
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: .4px;
    white-space: nowrap;
}

.expenses-table td {
    padding: 0.65rem 0.8rem;
    border-bottom: 1px solid var(--border);
    font-size: 0.85rem;
    vertical-align: middle;
}
.expenses-table tr:last-child td { border-bottom: none; }
.expenses-table tr:hover td { background: #f8fafc; }

.category-badge {
    display: inline-block;
    padding: 0.2rem 0.55rem;
    border-radius: var(--radius-pill);
    font-size: 0.75rem;
    font-weight: 600;
}

.action-buttons { display: flex; gap: 0.35rem; flex-wrap: wrap; }

.btn-edit, .btn-delete, .btn-view {
    padding: 0.28rem 0.6rem;
    border: none;
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-size: 0.76rem;
    font-weight: 600;
    font-family: var(--font);
    transition: background .2s;
}
.btn-edit   { background: #3b82f6; color: #fff; }
.btn-edit:hover   { background: #2563eb; }
.btn-view   { background: #16a34a; color: #fff; }
.btn-view:hover   { background: #15803d; }
.btn-delete { background: var(--red); color: #fff; }
.btn-delete:hover { background: var(--red-light); }

.summary-footer {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    gap: 0.6rem;
    padding: 0.85rem 0.4rem 0;
    border-top: 2px solid var(--border);
    font-size: 0.95rem;
    font-weight: 700;
    color: var(--text-dark);
    margin-top: 0.4rem;
}

.no-data {
    text-align: center;
    padding: 2rem 1rem;
    color: var(--text-muted);
    font-size: 0.88rem;
}

/* ============================================================
   REPORTS PAGE
   FIX: charts overflow — wrap in container with overflow:hidden
   ============================================================ */
.section { margin-bottom: 1.75rem; }
.section:last-child { margin-bottom: 0; }

/* Budget setting */
.budget-setting { display: flex; flex-direction: column; gap: 0.65rem; }

.budget-setting input {
    padding: 0.6rem 0.85rem;
    border: 1.5px solid var(--border);
    border-radius: var(--radius-sm);
    font-size: 0.92rem;
    font-family: var(--font);
    background: #fff;
    outline: none;
    margin-bottom: 0;
    width: 100%;
}
.budget-setting input:focus {
    border-color: var(--blue);
    box-shadow: 0 0 0 3px rgba(10,61,120,.1);
}
.budget-setting .btn-primary { padding: 0.6rem 1.1rem; }

.info-text { font-size: 0.83rem; margin-top: 0.35rem; min-height: 1em; }

/* Budget overview */
.budget-overview {
    background: #f8fafc;
    border: 1.5px solid var(--border);
    border-radius: var(--radius-md);
    padding: 0.85rem 1rem;
    margin-bottom: 1.25rem;
}

.budget-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.4rem 0;
    border-bottom: 1px dashed var(--border);
}
.budget-item:last-of-type { border-bottom: none; }

.budget-label { font-size: 0.82rem; color: var(--text-muted); font-weight: 600; }
.budget-value { font-size: 0.95rem; font-weight: 700; color: var(--text-dark); }
.text-red { color: var(--red); }

/* Progress bar */
.progress-bar {
    width: 100%;
    height: 7px;
    background: var(--border);
    border-radius: var(--radius-pill);
    overflow: hidden;
    margin-top: 0.8rem;
}
.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--blue), var(--blue-light));
    border-radius: var(--radius-pill);
    transition: width .4s ease;
}
.progress-fill.over-budget {
    background: linear-gradient(90deg, var(--red), var(--red-light));
}

/* CHART ROW in reports — CRITICAL overflow fix */
.charts-row .chart-container {
    /* each chart gets its own scroll-safe box */
    position: relative;
    min-height: 220px;
}

/* Category breakdown */
.category-breakdown {
    display: flex;
    flex-direction: column;
    gap: 0;
}

.category-item {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    padding: 0.55rem 0;
    border-bottom: 1px solid var(--border);
}
.category-item:last-child { border-bottom: none; }

.category-name  { font-size: 0.83rem; font-weight: 600; flex: 0 0 76px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.category-bar   { flex: 1; height: 7px; background: var(--border); border-radius: var(--radius-pill); overflow: hidden; min-width: 0; }
.category-bar-fill { height: 100%; border-radius: var(--radius-pill); transition: width .5s ease; }
.category-amount { font-size: 0.83rem; font-weight: 700; color: var(--red); flex: 0 0 80px; text-align: right; white-space: nowrap; }

/* Export */
.export-buttons { display: flex; flex-wrap: wrap; gap: 0.6rem; }
.export-buttons .btn-secondary { padding: 0.6rem 1rem; font-size: 0.85rem; }

/* ============================================================
   MODAL
   ============================================================ */
.modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.5);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 9000;
    padding: 1rem;
}

.modal-content {
    background: var(--white);
    padding: 1.5rem;
    border-radius: var(--radius-lg);
    width: 100%;
    max-width: 420px;
    box-shadow: var(--shadow-lg);
    max-height: 90vh;
    overflow-y: auto;
}
.modal-content h2,
.modal-content h3 { color: var(--blue); font-size: 1.05rem; font-weight: 700; margin-bottom: 0.65rem; }
.modal-content p  { color: var(--text-muted); font-size: 0.88rem; }

.modal-title  { color: var(--blue); font-size: 1.1rem; font-weight: 700; }
.modal-close  { background: none; border: none; font-size: 1.3rem; cursor: pointer; color: var(--text-muted); width: auto; box-shadow: none; }
.modal-close:hover { color: var(--red); }

.modal-body { margin-bottom: 0.85rem; }
.modal-body label { display: block; font-size: 0.83rem; font-weight: 600; color: #374151; margin-bottom: 0.35rem; }

.modal-input {
    width: 100%;
    padding: 0.6rem 0.85rem;
    border: 1.5px solid var(--border);
    border-radius: var(--radius-sm);
    font-size: 0.92rem;
    font-family: var(--font);
    outline: none;
    margin-bottom: 0;
    background: #fff;
}
.modal-input:focus { border-color: var(--blue); box-shadow: 0 0 0 3px rgba(10,61,120,.1); }

.modal-actions {
    display: flex;
    flex-direction: column;
    gap: 0.55rem;
    margin-top: 1.1rem;
}
.modal-actions .btn-danger,
.modal-actions .btn-secondary,
.modal-actions .btn-save,
.modal-actions .btn-cancel {
    width: 100%;
    padding: 0.65rem 1rem;
    font-size: 0.88rem;
    border-radius: var(--radius-sm);
    font-weight: 600;
    cursor: pointer;
    border: none;
    transition: background .2s;
    box-shadow: none;
    font-family: var(--font);
}
.btn-save   { background: var(--blue); color: #fff; }
.btn-save:hover   { background: var(--blue-light); }
.btn-cancel { background: #f1f5f9; color: #374151; }
.btn-cancel:hover { background: #e2e8f0; }

/* ============================================================
   MISC
   ============================================================ */
.spinner {
    border: 3px solid var(--border);
    border-top-color: var(--blue);
    border-radius: 50%;
    width: 34px; height: 34px;
    animation: spin .8s linear infinite;
    margin: 2rem auto;
}
@keyframes spin { to { transform: rotate(360deg); } }

.pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.35rem;
    margin-top: 1.25rem;
    flex-wrap: wrap;
}
.pagination button {
    width: auto;
    padding: 0.4rem 0.75rem;
    background: var(--white);
    color: var(--text-dark);
    border: 1.5px solid var(--border);
    border-radius: var(--radius-sm);
    font-size: 0.82rem;
    box-shadow: none;
    margin: 0;
}
.pagination button.active { background: var(--blue); color: #fff; border-color: var(--blue); }
.pagination button:disabled { opacity: .4; cursor: not-allowed; }

.empty-state { text-align: center; padding: 2.5rem 1rem; }
.empty-icon  { font-size: 2.5rem; color: #d1d5db; margin-bottom: 0.65rem; }
.empty-title { font-size: 1.05rem; color: var(--text-muted); margin-bottom: 0.35rem; }
.empty-text  { font-size: 0.85rem; color: #9ca3af; margin-bottom: 1rem; }

/* ============================================================
   TABLET  ≥ 600px
   ============================================================ */
@media (min-width: 600px) {

    /* Navbar — unwrap to single row */
    .nav-container {
        flex-wrap: nowrap;
        padding: 0.6rem 1.25rem;
    }

    .navbar .logo h1 { font-size: 1.25rem; }

    /* Welcome moves between logo and buttons, centered */
    .user-welcome {
        flex: 1;
        order: 0;
        font-size: 1.1rem;
        font-weight: 600;
        color: #1a1a2e;
        padding: 0;
    }

    /* Menu */
    .menu-item { font-size: 0.85rem; padding: 0.5rem 0.85rem; }

    /* Content */
    .app-container,
    .container { padding: 1.25rem 1.25rem 3.5rem; }

    /* Summary cards 2-col */
    .summary-cards { grid-template-columns: repeat(2, 1fr); gap: 1rem; }

    /* Filter inline */
    .filter-section { flex-direction: row; flex-wrap: wrap; }
    .filter-group { flex: 1; min-width: 140px; }

    /* Form */
    .form-actions { flex-direction: row; gap: 0.85rem; }
    .form-actions .btn-primary,
    .form-actions .btn-secondary { flex: 1; }

    /* Budget inline */
    .budget-setting { flex-direction: row; align-items: center; }
    .budget-setting input { flex: 1; }

    /* Export */
    .export-buttons { flex-direction: row; }

    /* Modal actions row */
    .modal-actions { flex-direction: row; justify-content: flex-end; }
    .modal-actions .btn-danger,
    .modal-actions .btn-secondary,
    .modal-actions .btn-save,
    .modal-actions .btn-cancel { width: auto; min-width: 90px; }
}

/* ============================================================
   TABLET  ≥ 768px
   ============================================================ */
@media (min-width: 768px) {

    /* Auth */
    .container-loginSignup { padding-top: 80px; }
    .card { max-width: 410px; padding: 2.25rem 2rem; }

    /* Navbar */
    .nav-container { padding: 0.7rem 2rem; }
    .navbar .logo h1 { font-size: 1.5rem; }
    .navbar .logo p  { font-size: 0.75rem; }
    .nav-actions button, .btn-small {
        padding: 0.32rem 0.85rem !important;
        font-size: 0.78rem !important;
    }
    .user-welcome { font-size: 1.25rem; font-weight: 700; color: #1a1a2e; }

    /* Menu */
    .menu { padding: 0.55rem 2rem; gap: 0.35rem; }
    .menu-item { font-size: 0.93rem; padding: 0.55rem 1rem; }

    /* Content */
    .app-container,
    .container { padding: 1.75rem 2rem 4rem; }
    .page-title { font-size: 1.75rem; margin-bottom: 1.5rem; }

    /* Charts 2-col */
    .charts-row { grid-template-columns: repeat(2, 1fr); gap: 1.1rem; }

    /* Summary cards 2-col */
    .summary-cards { grid-template-columns: repeat(2, 1fr); gap: 1.1rem; }

    /* Form */
    .form-card { padding: 1.75rem 2rem; }

    /* Category */
    .category-name  { flex: 0 0 100px; }
    .category-amount { flex: 0 0 95px; }
}

/* ============================================================
   DESKTOP  ≥ 1024px
   ============================================================ */
@media (min-width: 1024px) {
    .app-container,
    .container { padding: 2rem 3rem 4rem; }

    .summary-cards { grid-template-columns: repeat(3, 1fr); }
    .charts-row { grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); }

    .expenses-table { min-width: auto; }
    .form-card { padding: 2.25rem; }
    .category-name  { flex: 0 0 120px; }
    .category-amount { flex: 0 0 110px; }
}

/* ============================================================
   LARGE DESKTOP  ≥ 1440px
   ============================================================ */
@media (min-width: 1440px) {
    .page-title { font-size: 2rem; }
    .app-container,
    .container { padding: 2.25rem 4rem 4rem; }
}

/* ============================================================
   PRINT
   ============================================================ */
@media print {
    .navbar, .menu, .filter-section,
    .btn-edit, .btn-delete, .btn-view,
    .modal-overlay, .export-buttons { display: none !important; }
    body { background: #fff; }
    .app-container, .container { padding: 0; max-width: 100%; }
    .table-container, .chart-container,
    .summary-cards, .form-card { box-shadow: none; page-break-inside: avoid; }
}

/* ============================================================
   TINY SCREEN  ≤ 320px  (e.g. iPhone SE 1st gen)
   ============================================================ */
@media (max-width: 320px) {

    /* Cards take 90% width and center */
    .summary-cards {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.9rem;
        padding: 0.5rem 0;
    }

    .cards {
        width: 90%;
        max-width: 90%;
        padding: 1rem 1.1rem;
    }

    /* Slightly smaller card text */
    .card-value  { font-size: 1.2rem; }
    .card-label  { font-size: 0.7rem; }
    .card-icon   { width: 42px; height: 42px; font-size: 1.4rem; }

    /* Welcome smaller so it fits */
    .user-welcome { font-size: 0.88rem; }

    /* Page padding tighter */
    .app-container,
    .container { padding: 1rem 0.6rem 2.5rem; }

    .page-title { font-size: 1.2rem; }

    /* Nav tighter */
    .navbar .logo h1 { font-size: 1rem; }
    .navbar .logo p  { display: none; }
}